{"version":3,"sources":["app.js","validator.js"],"names":["Validator","__private","validClass","isFormValid","set","obj","hasOwnProperty","this","form","errorClass","successClass","result","fields","formChildren","i","length","field","tagName","type","number","tel","addEventListener","email","querySelector","submit","getElementsByTagName","event","window","preventDefault","required","noConditions","classList","contains","formSubmit","arr","inputs","selects","textareas","push","value","add","remove","inp","test","code","keyCode","numberLength","arguments","undefined","el","bool","init","input","elem","document","getElementById"],"mappings":"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","file":"app.js","sourcesContent":["\"use strict\";\r\n\r\n","var Validator = (function() {\r\n\tvar __private = {\r\n\t\tvalidClass: \"valid\",\r\n\t\tisFormValid: false,\r\n\r\n\t\tset(obj) {\r\n\t\t\tif(obj.hasOwnProperty(\"form\")) this.form = obj.form;\r\n\t\t\tif(obj.hasOwnProperty(\"errorClass\")) this.errorClass = obj.errorClass;\r\n\t\t\tif(obj.hasOwnProperty(\"successClass\")) this.successClass = obj.successClass;\r\n\t\t\tif(obj.hasOwnProperty(\"result\")) this.result = obj.result;\r\n\r\n\r\n\t\t\tthis.fields = this.formChildren();\r\n\t\t\tfor(let i = 0; i < this.fields.length; i++) {\r\n\t\t\t\tlet field = this.fields[i];\r\n\r\n\t\t\t\tif(field.tagName == \"INPUT\") {\r\n\t\t\t\t\tif(field.type == \"number\" || field.type == \"tel\") Validator.number(field);\r\n\r\n\t\t\t\t\tif(field.type == \"tel\") Validator.tel(field);\r\n\r\n\t\t\t\t\tif(field.type == \"email\") {\r\n\t\t\t\t\t\tfield.addEventListener(\"input\", function() {\r\n\t\t\t\t\t\t\tValidator.email(this);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif(this.form.querySelector(\"input[type=submit]\")) {\r\n\t\t\t\tthis.submit = this.form.querySelector(\"input[type=submit]\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.submit = this.form.getElementsByTagName(\"button\")[0];\r\n\t\t\t}\r\n\t\t\tthis.submit.addEventListener(\"click\", function(event) {\r\n\t\t\t\tevent = event || window.event;\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tvar fields = Validator.fields();\r\n\t\t\t\t__private.isFormValid = true;\r\n\r\n\t\t\t\tValidator.required(fields);\r\n\r\n\t\t\t\tfor (let i = 0; i < fields.length; i++) {\r\n\t\t\t\t\tlet field = fields[i];\r\n\r\n\t\t\t\t\tif ( (field.tagName == \"SELECT\") || (field.tagName == \"TEXTAREA\") || (field.tagName == \"INPUT\" && field.type == \"text\") ) {\r\n\t\t\t\t\t\tValidator.noConditions(field);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor(let i = 0; i < fields.length; i++) {\r\n\t\t\t\t\tif(!fields[i].classList.contains(__private.validClass)) __private.isFormValid = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tValidator.formSubmit(__private.isFormValid);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tformChildren() {\r\n\t\t\tvar arr = [];\r\n\r\n\t\t\tvar inputs = this.form.getElementsByTagName(\"input\");\r\n\t\t\tvar selects = this.form.getElementsByTagName(\"select\");\r\n\t\t\tvar textareas = this.form.getElementsByTagName(\"textarea\");\r\n\r\n\t\t\tfor(let i = 0; i < inputs.length; i++) {\r\n\t\t\t\tif(inputs[i].type !== \"submit\") arr.push(inputs[i]);\r\n\t\t\t}\r\n\r\n\t\t\tfor(let i = 0; i < selects.length; i++) {\r\n\t\t\t\tarr.push(selects[i]);\r\n\t\t\t}\r\n\r\n\t\t\tfor(let i = 0; i < textareas.length; i++) {\r\n\t\t\t\tarr.push(textareas[i]);\r\n\t\t\t}\r\n\r\n\t\t\treturn arr;\r\n\t\t},\r\n\r\n\t\trequired(fields) {\r\n\t\t\tfor(let i = 0; i < fields.length; i++) {\r\n\t\t\t\tif(fields[i].required && (!fields[i].value)) fields[i].classList.add(this.errorClass);\r\n\r\n\t\t\t\tif(fields[i].required && (fields[i].value)) {\r\n\t\t\t\t\tif(fields[i].type !== \"email\") {\r\n\t\t\t\t\t\tfields[i].classList.remove(this.errorClass);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif(Validator.email(fields[i])) fields[i].classList.remove(this.errorClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\temail(inp) {\r\n\t\t\tvar regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/i;\r\n\r\n\t\t\tlet valid = regEmail.test(inp.value);\r\n\r\n\t\t\tif(valid) {\r\n\t\t\t\tinp.classList.remove(this.errorClass);\r\n\t\t\t\tinp.classList.add(this.validClass);\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tinp.classList.add(this.errorClass);\r\n\t\t\t\tinp.classList.remove(this.validClass);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnumber(inp) {\r\n\t\t\tinp.addEventListener(\"keydown\", function(event) {\r\n\t\t\t\tevent = event || window.event;\r\n\r\n\t\t\t\tvar code = event.keyCode;\r\n\t\t\t\t//console.log(code);\r\n\r\n\t\t\t\tif( (code < 48 || code > 57) && (code < 96 || code > 111) && (code !== 37) && (code !== 39) && (code !== 8) && (code !== 46) && (code !== 188) && (code !== 188) && (code !== 32) && (code !== 189) && (code !== 187) && (code !== 13) ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\ttel(inp, numberLength = 1) {\r\n\t\t\tinp.addEventListener(\"input\", function() {\r\n\t\t\t\tif(this.value.length >= numberLength) this.classList.add(__private.validClass);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tnoConditions(el) {\r\n\t\t\tif(!el.required) el.classList.add(this.validClass);\r\n\t\t\telse {\r\n\t\t\t\tif(el.value) el.classList.add(this.validClass);\r\n\t\t\t\telse el.classList.remove(this.validClass);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tformSubmit(bool) {\r\n\t\t\t//console.log(this.form);\r\n\t\t\tif(bool) this.form.submit();\r\n\t\t}\r\n\t};\r\n\r\n\treturn {\r\n\t\tinit(obj) {\r\n\t\t\t__private.set(obj);\r\n\t\t},\r\n\r\n\t\trequired(fields) {\r\n\t\t\t__private.required(fields);\r\n\t\t},\r\n\r\n\t\temail(input) {\r\n\t\t\t__private.email(input);\r\n\t\t},\r\n\r\n\t\tnumber(input) {\r\n\t\t\t__private.number(input);\r\n\t\t},\r\n\r\n\t\ttel(input) {\r\n\t\t\t__private.tel(input);\r\n\t\t},\r\n\r\n\t\tnoConditions(elem) {\r\n\t\t\t__private.noConditions(elem);\r\n\t\t},\r\n\r\n\t\tformSubmit(bool) {\r\n\t\t\t__private.formSubmit(bool);\r\n\t\t},\r\n\r\n\t\tfields() {\r\n\t\t\treturn __private.fields;\r\n\t\t}\r\n\t};\r\n})();\r\n\r\n\r\n(function() {\r\n\tdocument.addEventListener(\"DOMContentLoaded\", function() {\r\n\r\n\t\tvar form = document.getElementById(\"form\");\r\n\r\n\t\tValidator.init({\r\n\t\t\tform: form,\r\n\t\t\terrorClass: \"error\",\r\n\t\t\tsuccessClass: \"success\",\r\n\t\t\tresult: document.getElementById(\"result\")\r\n\t\t});\r\n\r\n\t});\r\n})();"]}
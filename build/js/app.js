"use strict";var Validator=function(){var t={validClass:"valid",isFormValid:!1,set:function(e){e.hasOwnProperty("form")&&(this.form=e.form),e.hasOwnProperty("errorClass")&&(this.errorClass=e.errorClass),e.hasOwnProperty("successClass")&&(this.successClass=e.successClass),e.hasOwnProperty("result")&&(this.result=e.result),this.fields=this.formChildren();for(var s=0;s<this.fields.length;s++){var i=this.fields[s];"INPUT"==i.tagName&&("number"!=i.type&&"tel"!=i.type||Validator.number(i),"tel"==i.type&&Validator.tel(i),"email"==i.type&&i.addEventListener("input",function(){Validator.email(this)}))}this.form.querySelector("input[type=submit]")?this.submit=this.form.querySelector("input[type=submit]"):this.submit=this.form.getElementsByTagName("button")[0],this.submit.addEventListener("click",function(e){(e=e||window.event).preventDefault();var s=Validator.fields();t.isFormValid=!0,Validator.required(s);for(var i=0;i<s.length;i++){var r=s[i];("SELECT"==r.tagName||"TEXTAREA"==r.tagName||"INPUT"==r.tagName&&"text"==r.type)&&Validator.noConditions(r)}for(var a=0;a<s.length;a++)s[a].classList.contains(t.validClass)||(t.isFormValid=!1);Validator.formSubmit(t.isFormValid)})},formChildren:function(){for(var t=[],e=this.form.getElementsByTagName("input"),s=this.form.getElementsByTagName("select"),i=this.form.getElementsByTagName("textarea"),r=0;r<e.length;r++)"submit"!==e[r].type&&t.push(e[r]);for(var a=0;a<s.length;a++)t.push(s[a]);for(var n=0;n<i.length;n++)t.push(i[n]);return t},required:function(t){for(var e=0;e<t.length;e++)t[e].required&&!t[e].value&&t[e].classList.add(this.errorClass),t[e].required&&t[e].value&&("email"!==t[e].type?t[e].classList.remove(this.errorClass):Validator.email(t[e])&&t[e].classList.remove(this.errorClass))},email:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i.test(t.value)?(t.classList.remove(this.errorClass),t.classList.add(this.validClass),!0):(t.classList.add(this.errorClass),t.classList.remove(this.validClass),!1)},number:function(t){t.addEventListener("keydown",function(t){var e=(t=t||window.event).keyCode;(e<48||e>57)&&(e<96||e>111)&&37!==e&&39!==e&&8!==e&&46!==e&&188!==e&&188!==e&&32!==e&&189!==e&&187!==e&&13!==e&&t.preventDefault()})},tel:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.addEventListener("input",function(){this.value.length>=s&&this.classList.add(t.validClass)})},noConditions:function(t){t.required?t.value?t.classList.add(this.validClass):t.classList.remove(this.validClass):t.classList.add(this.validClass)},formSubmit:function(t){t&&this.form.submit()}};return{init:function(e){t.set(e)},required:function(e){t.required(e)},email:function(e){t.email(e)},number:function(e){t.number(e)},tel:function(e){t.tel(e)},noConditions:function(e){t.noConditions(e)},formSubmit:function(e){t.formSubmit(e)},fields:function(){return t.fields}}}();document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("form");Validator.init({form:t,errorClass:"error",successClass:"success",result:document.getElementById("result")})});
//# sourceMappingURL=app.js.map
